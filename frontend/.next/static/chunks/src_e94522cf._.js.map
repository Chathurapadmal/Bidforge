{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bidforge/frontend/src/lib/fetcher.client.ts"],"sourcesContent":["// Client-side fetch that sends cookies\r\nexport async function apiFetchClient(path: string, init?: RequestInit) {\r\n  const url = path.startsWith(\"http\") ? path : path; // e.g. \"/api/auth/login\"\r\n  return fetch(url, {\r\n    ...init,\r\n    credentials: \"include\", // send httpOnly cookie\r\n    headers: { \"Content-Type\": \"application/json\", ...(init?.headers || {}) },\r\n    cache: \"no-store\",\r\n  });\r\n}\r\nexport async function getJsonClient<T = any>(path: string): Promise<T> {\r\n  const res = await apiFetchClient(path);\r\n  if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);\r\n  return res.json() as Promise<T>;\r\n}\r\nexport type User = {\r\n  id: string;\r\n  email: string | null;\r\n  userName: string | null;\r\n  fullName: string | null;\r\n  phoneNumber: string | null;\r\n  isApproved: boolean;\r\n  createdAt: string;\r\n};\r\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;AAChC,eAAe,eAAe,IAAY,EAAE,IAAkB;IACnE,MAAM,MAAM,KAAK,UAAU,CAAC,UAAU,OAAO,MAAM,yBAAyB;IAC5E,OAAO,MAAM,KAAK;QAChB,GAAG,IAAI;QACP,aAAa;QACb,SAAS;YAAE,gBAAgB;YAAoB,GAAI,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI,CAAC,CAAC;QAAE;QACxE,OAAO;IACT;AACF;AACO,eAAe,cAAuB,IAAY;IACvD,MAAM,MAAM,MAAM,eAAe;IACjC,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,AAAC,GAAgB,OAAd,IAAI,MAAM,EAAC,KAAkB,OAAf,IAAI,UAAU;IAC5D,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///D:/Bidforge/frontend/src/app/auth/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { apiFetchClient } from \"../../../lib/fetcher.client\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function LoginPage() {\r\n  const r = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [pending, setPending] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    setPending(true);\r\n    try {\r\n      const res = await apiFetchClient(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n      if (!res.ok) {\r\n        const t = await res.text().catch(() => \"\");\r\n        throw new Error(`${res.status} ${res.statusText}${t ? ` - ${t}` : \"\"}`);\r\n      }\r\n      // Cookie \"auth\" is set by backend. Go to profile.\r\n      r.push(\"/profile\");\r\n    } catch (e: any) {\r\n      setErr(e?.message ?? \"Login failed\");\r\n    } finally {\r\n      setPending(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <form\r\n        onSubmit={onSubmit}\r\n        style={{ display: \"grid\", gap: 12, maxWidth: 360 }}\r\n      >\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        <button disabled={pending} type=\"submit\">\r\n          {pending ? \"Signing in...\" : \"Sign in\"}\r\n        </button>\r\n        {err && <div style={{ color: \"crimson\" }}>{err}</div>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,IAAI,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAClB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,KAAK,OAAO,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9C,eAAe,SAAS,CAAkB;QACxC,EAAE,cAAc;QAChB,OAAO;QACP,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD,EAAE,mBAAmB;gBAClD,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YACA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;gBACvC,MAAM,IAAI,MAAM,AAAC,GAAgB,OAAd,IAAI,MAAM,EAAC,KAAoB,OAAjB,IAAI,UAAU,EAAsB,OAAnB,IAAI,AAAC,MAAO,OAAF,KAAM;YACpE;YACA,kDAAkD;YAClD,EAAE,IAAI,CAAC;QACT,EAAE,OAAO,GAAQ;gBACR;YAAP,OAAO,CAAA,aAAA,cAAA,wBAAA,EAAG,OAAO,cAAV,wBAAA,aAAc;QACvB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;;0BACC,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBACC,UAAU;gBACV,OAAO;oBAAE,SAAS;oBAAQ,KAAK;oBAAI,UAAU;gBAAI;;kCAEjD,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;;;;;;kCAEV,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,QAAQ;;;;;;kCAEV,6LAAC;wBAAO,UAAU;wBAAS,MAAK;kCAC7B,UAAU,kBAAkB;;;;;;oBAE9B,qBAAO,6LAAC;wBAAI,OAAO;4BAAE,OAAO;wBAAU;kCAAI;;;;;;;;;;;;;;;;;;AAInD;GAzDwB;;QACZ,qIAAA,CAAA,YAAS;;;KADG","debugId":null}}]
}