{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/workingone/Bidforge%20-%20Copy/frontend/src/app/admin/register/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL ?? \"https://localhost:7163\";\r\n\r\nexport default function AdminRegisterPage() {\r\n    const [formData, setFormData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        role: \"Admin\", // Fixed to Admin for admin registration\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [message, setMessage] = useState<string | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setMessage(null);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch(`${API_BASE}/api/auth/register-admin`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify(formData),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n                throw new Error(errorData.message || `HTTP ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            setMessage(`Admin user created successfully!`);\r\n            setFormData({ email: \"\", password: \"\", name: \"\", role: \"Admin\" });\r\n        } catch (err: any) {\r\n            setError(err.message || \"Registration failed\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-md w-full space-y-8\">\r\n                <div>\r\n                    <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n                        Admin Registration\r\n                    </h2>\r\n                </div>\r\n\r\n                <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-medium text-black\">\r\n                                Email address\r\n                            </label>\r\n                            <input\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                type=\"email\"\r\n                                required\r\n                                value={formData.email}\r\n                                onChange={handleChange}\r\n                                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-black\"\r\n                                placeholder=\"Enter email address\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"name\" className=\"block text-sm font-medium text-black\">\r\n                                Full Name (Optional)\r\n                            </label>\r\n                            <input\r\n                                id=\"name\"\r\n                                name=\"name\"\r\n                                type=\"text\"\r\n                                value={formData.name}\r\n                                onChange={handleChange}\r\n                                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-black\"\r\n                                placeholder=\"Enter full name\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-medium text-black\">\r\n                                Password\r\n                            </label>\r\n                            <input\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                required\r\n                                minLength={6}\r\n                                value={formData.password}\r\n                                onChange={handleChange}\r\n                                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-black\"\r\n                                placeholder=\"Enter password (min 6 characters)\"\r\n                            />\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"text-red-600 text-sm bg-red-50 p-3 rounded-md\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    {message && (\r\n                        <div className=\"text-green-600 text-sm bg-green-50 p-3 rounded-md\">\r\n                            {message}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {loading ? \"Creating...\" : \"Create Admin\"}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                <div className=\"text-center\">\r\n                    <a\r\n                        href=\"/admin/users\"\r\n                        className=\"text-sm text-black hover:text-gray-700 underline\"\r\n                    >\r\n                        Go to User Management\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,WAAW,6DAAwC;AAE1C,SAAS;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACrC,OAAO;QACP,UAAU;QACV,MAAM;QACN,MAAM;IACV;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,WAAW;QACX,WAAW;QACX,SAAS;QAET,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,wBAAwB,CAAC,EAAE;gBAChE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,KAAK,EAAE,SAAS,MAAM,EAAE;YAClE;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,WAAW,CAAC,gCAAgC,CAAC;YAC7C,YAAY;gBAAE,OAAO;gBAAI,UAAU;gBAAI,MAAM;gBAAI,MAAM;YAAQ;QACnE,EAAE,OAAO,KAAU;YACf,SAAS,IAAI,OAAO,IAAI;QAC5B,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,eAAe,CAAC;QAClB,YAAY;YACR,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACnC;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;8BACG,cAAA,8OAAC;wBAAG,WAAU;kCAAyD;;;;;;;;;;;8BAK3E,8OAAC;oBAAK,WAAU;oBAAiB,UAAU;;sCACvC,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;;sDACG,8OAAC;4CAAM,SAAQ;4CAAQ,WAAU;sDAAuC;;;;;;sDAGxE,8OAAC;4CACG,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO,SAAS,KAAK;4CACrB,UAAU;4CACV,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIpB,8OAAC;;sDACG,8OAAC;4CAAM,SAAQ;4CAAO,WAAU;sDAAuC;;;;;;sDAGvE,8OAAC;4CACG,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,IAAI;4CACpB,UAAU;4CACV,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIpB,8OAAC;;sDACG,8OAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAAuC;;;;;;sDAG3E,8OAAC;4CACG,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,WAAW;4CACX,OAAO,SAAS,QAAQ;4CACxB,UAAU;4CACV,WAAU;4CACV,aAAY;;;;;;;;;;;;;;;;;;wBAOvB,uBACG,8OAAC;4BAAI,WAAU;sCACV;;;;;;wBAIR,yBACG,8OAAC;4BAAI,WAAU;sCACV;;;;;;sCAIT,8OAAC;sCACG,cAAA,8OAAC;gCACG,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;8BAKvC,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBACG,MAAK;wBACL,WAAU;kCACb;;;;;;;;;;;;;;;;;;;;;;AAOrB","debugId":null}}]
}