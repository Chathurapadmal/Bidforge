{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/workingone/Bidforge%20-%20Copy/frontend/src/app/profile/page.tsx"],"sourcesContent":["// src/app/profile/page.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession } from \"../../lib/session\";\r\nimport { apiFetch, apiFetchForm } from \"../../lib/api\";\r\nimport { toImageSrc } from \"../../lib/Config\";\r\n\r\ntype Profile = {\r\n  id: string;\r\n  email: string | null;\r\n  name: string | null;\r\n  avatarUrl?: string | null;\r\n  isApproved?: boolean;\r\n  hasNicNumber?: boolean;\r\n  hasNicImage?: boolean;\r\n};\r\n\r\ntype MyAuction = {\r\n  id: number;\r\n  title: string;\r\n  currentBid: number;\r\n  endTime: string;\r\n  image?: string | null;\r\n  badge?: string | null;\r\n};\r\n\r\ntype MyBid = {\r\n  id: number;\r\n  amount: number;\r\n  at: string;\r\n  auctionId: number;\r\n  auctionTitle: string;\r\n};\r\n\r\ntype Note = {\r\n  id: number;\r\n  type: string;\r\n  message: string;\r\n  createdAt: string;\r\n  isRead: boolean;\r\n  data?: string | null;\r\n};\r\n\r\nexport default function ProfilePage() {\r\n  const { user, loading, refresh } = useSession();\r\n  const router = useRouter();\r\n\r\n  // tabs\r\n  const tabs = [\"Profile\", \"My Auctions\", \"My Bids\", \"Notifications\"] as const;\r\n  type Tab = (typeof tabs)[number];\r\n  const [tab, setTab] = useState<Tab>(\"Profile\");\r\n\r\n  // data\r\n  const [me, setMe] = useState<Profile | null>(null);\r\n  const [mine, setMine] = useState<MyAuction[] | null>(null);\r\n  const [bids, setBids] = useState<MyBid[] | null>(null);\r\n  const [notes, setNotes] = useState<Note[] | null>(null);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const avatarUrl = useMemo(\r\n    () => toImageSrc(me?.avatarUrl || undefined),\r\n    [me?.avatarUrl]\r\n  );\r\n\r\n  const [avatarFile, setAvatarFile] = useState<File | null>(null);\r\n\r\n  // NIC submission\r\n  const [nicNumber, setNicNumber] = useState(\"\");\r\n  const [nicFile, setNicFile] = useState<File | null>(null);\r\n\r\n  const [err, setErr] = useState<string | null>(null);\r\n  const [info, setInfo] = useState<string | null>(null);\r\n  const [busy, setBusy] = useState(false);\r\n\r\n  useEffect(() => {\r\n    void refresh();\r\n  }, [refresh]);\r\n  useEffect(() => {\r\n    if (!loading && !user) router.replace(\"/auth/login?next=/profile\");\r\n  }, [loading, user, router]);\r\n\r\n  const loadMe = async () => {\r\n    const p = await apiFetch<Profile>(\"/api/auth/me\");\r\n    setMe(p);\r\n    setName(p.name || \"\");\r\n  };\r\n  const loadMineAuctions = async () =>\r\n    setMine(await apiFetch<MyAuction[]>(\"/api/my/auctions\"));\r\n  const loadMyBids = async () =>\r\n    setBids(await apiFetch<MyBid[]>(\"/api/my/bids\"));\r\n  const loadNotes = async () =>\r\n    setNotes(await apiFetch<Note[]>(\"/api/notifications\"));\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      void loadMe();\r\n      void loadMineAuctions();\r\n      void loadMyBids();\r\n      void loadNotes();\r\n    }\r\n  }, [user]);\r\n\r\n  if (loading || !user)\r\n    return <main className=\"max-w-4xl mx-auto p-6\">Loading…</main>;\r\n\r\n  const onSaveProfile = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    setInfo(null);\r\n    setBusy(true);\r\n    try {\r\n      await apiFetch(\"/api/profile\", {\r\n        method: \"PUT\",\r\n        body: JSON.stringify({ name }),\r\n      });\r\n      await loadMe();\r\n      setInfo(\"Profile updated.\");\r\n    } catch (e: any) {\r\n      setErr(e?.message ?? \"Update failed\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  };\r\n\r\n  const onUploadAvatar = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!avatarFile) return;\r\n    setErr(null);\r\n    setInfo(null);\r\n    setBusy(true);\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append(\"file\", avatarFile);\r\n      await apiFetchForm(\"/api/profile/avatar\", fd, { method: \"POST\" });\r\n      await loadMe();\r\n      setAvatarFile(null);\r\n      setInfo(\"Avatar updated.\");\r\n    } catch (e: any) {\r\n      setErr(e?.message ?? \"Upload failed\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  };\r\n\r\n  const onSubmitNic = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!nicNumber || !nicFile) return;\r\n    setErr(null);\r\n    setInfo(null);\r\n    setBusy(true);\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append(\"nicNumber\", nicNumber);\r\n      fd.append(\"nicImage\", nicFile);\r\n      await apiFetchForm(\"/api/auth/submit-nic\", fd, { method: \"POST\" });\r\n      await loadMe();\r\n      setNicNumber(\"\");\r\n      setNicFile(null);\r\n      setInfo(\"NIC information submitted successfully. Your account is now pending admin approval.\");\r\n    } catch (e: any) {\r\n      setErr(e?.message ?? \"Submission failed\");\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  };\r\n\r\n  const markAllRead = async () => {\r\n    try {\r\n      await apiFetch(\"/api/notifications/read-all\", { method: \"POST\" });\r\n      await loadNotes();\r\n    } catch (e) {\r\n      /* ignore */\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"max-w-5xl mx-auto p-6\">\r\n      <h1 className=\"text-2xl font-bold\">Your Account</h1>\r\n\r\n      {(err || info) && (\r\n        <p className={`mt-4 ${err ? \"text-red-600\" : \"text-green-600\"}`}>\r\n          {err || info}\r\n        </p>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <div className=\"mt-6 flex gap-2 border-b\">\r\n        {tabs.map((t) => (\r\n          <button\r\n            key={t}\r\n            className={`px-3 py-2 -mb-px border-b-2 ${tab === t ? \"border-indigo-600 text-indigo-700\" : \"border-transparent text-gray-600\"}`}\r\n            onClick={() => setTab(t)}\r\n          >\r\n            {t}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* PROFILE */}\r\n      {tab === \"Profile\" && me && (\r\n        <section className=\"mt-6 space-y-6\">\r\n          {/* Account Status */}\r\n          <div className=\"bg-white p-4 border rounded\">\r\n            <h3 className=\"text-lg font-semibold mb-3\">Account Status</h3>\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                me.isApproved \r\n                  ? \"bg-green-100 text-green-800\" \r\n                  : \"bg-yellow-100 text-yellow-800\"\r\n              }`}>\r\n                {me.isApproved ? \"✓ Approved\" : \"⏳ Pending Approval\"}\r\n              </span>\r\n              {!me.isApproved && (\r\n                <span className=\"text-sm text-gray-600\">\r\n                  {!me.hasNicNumber || !me.hasNicImage \r\n                    ? \"Please submit your NIC information below\"\r\n                    : \"Your NIC information is submitted and pending admin review\"\r\n                  }\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* NIC Submission - Only show if not approved and missing NIC info */}\r\n          {!me.isApproved && (!me.hasNicNumber || !me.hasNicImage) && (\r\n            <div className=\"bg-blue-50 p-4 border border-blue-200 rounded\">\r\n              <h3 className=\"text-lg font-semibold mb-3 text-blue-900\">Submit NIC Information</h3>\r\n              <p className=\"text-sm text-blue-800 mb-4\">\r\n                To use our auction platform, please submit your National Identity Card information for verification.\r\n              </p>\r\n              <form onSubmit={onSubmitNic} className=\"grid gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-blue-900 mb-1\">\r\n                    NIC Number\r\n                  </label>\r\n                  <input\r\n                    className=\"w-full border p-2 rounded text-black\"\r\n                    value={nicNumber}\r\n                    onChange={(e) => setNicNumber(e.target.value)}\r\n                    placeholder=\"Enter your NIC number (e.g., 123456789V)\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-blue-900 mb-1\">\r\n                    NIC Image\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={(e) => setNicFile(e.target.files?.[0] ?? null)}\r\n                    required\r\n                    className=\"w-full border p-2 rounded bg-white\"\r\n                  />\r\n                  <p className=\"text-xs text-blue-700 mt-1\">\r\n                    Upload a clear image of your NIC (JPEG/PNG, max 5MB)\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  disabled={busy || !nicNumber || !nicFile}\r\n                  className=\"px-4 py-2 rounded bg-blue-600 text-white disabled:opacity-60 hover:bg-blue-700\"\r\n                >\r\n                  {busy ? \"Submitting...\" : \"Submit NIC Information\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid md:grid-cols-3 gap-6\">\r\n            <div className=\"md:col-span-2\">\r\n              <form\r\n                onSubmit={onSaveProfile}\r\n                className=\"grid gap-3 bg-white p-4 border rounded\"\r\n              >\r\n                <label className=\"text-sm text-gray-600\">Display name</label>\r\n                <input\r\n                  className=\"border p-2 rounded text-black\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  placeholder=\"Your name\"\r\n                />\r\n                <div className=\"text-sm text-gray-600\">Email</div>\r\n                <div className=\"p-2 border rounded bg-gray-50\">\r\n                  {me.email || \"—\"}\r\n                </div>\r\n                <button\r\n                  disabled={busy}\r\n                  className=\"mt-2 px-4 py-2 rounded bg-indigo-600 text-white disabled:opacity-60\"\r\n                >\r\n                  {busy ? \"Saving…\" : \"Save\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n\r\n          <div className=\"bg-white p-4 border rounded\">\r\n            <div className=\"text-sm text-gray-600\">Profile picture</div>\r\n            <div className=\"mt-2\">\r\n              <img\r\n                src={avatarUrl || \"/placeholder.png\"}\r\n                alt=\"avatar\"\r\n                className=\"w-32 h-32 object-cover rounded-full border\"\r\n                onError={(e) => {\r\n                  (e.currentTarget as HTMLImageElement).src =\r\n                    \"/placeholder.png\";\r\n                }}\r\n              />\r\n            </div>\r\n            <form onSubmit={onUploadAvatar} className=\"mt-3 grid gap-2\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => setAvatarFile(e.target.files?.[0] ?? null)}\r\n              />\r\n              <button\r\n                disabled={busy || !avatarFile}\r\n                className=\"px-3 py-1.5 rounded border\"\r\n              >\r\n                {busy ? \"Uploading…\" : \"Upload\"}\r\n              </button>\r\n            </form>\r\n          </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* MY AUCTIONS */}\r\n      {tab === \"My Auctions\" && (\r\n        <section className=\"mt-6\">\r\n          {!mine ? (\r\n            <p>Loading…</p>\r\n          ) : mine.length === 0 ? (\r\n            <p className=\"text-gray-600\">\r\n              You haven’t created any auctions yet.\r\n            </p>\r\n          ) : (\r\n            <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {mine.map((a) => (\r\n                <article\r\n                  key={a.id}\r\n                  className=\"border rounded overflow-hidden bg-white\"\r\n                >\r\n                  <div className=\"aspect-[4/3] bg-gray-100 overflow-hidden\">\r\n                    <img\r\n                      src={toImageSrc(a.image)}\r\n                      alt={a.title}\r\n                      className=\"w-full h-full object-cover\"\r\n                      onError={(e) => {\r\n                        (e.currentTarget as HTMLImageElement).src =\r\n                          \"/placeholder.png\";\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"p-3\">\r\n                    <div className=\"font-semibold line-clamp-1\">{a.title}</div>\r\n                    <div className=\"text-sm mt-1\">\r\n                      Current: LKR {a.currentBid.toLocaleString()}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      Ends {new Date(a.endTime).toLocaleString()}\r\n                    </div>\r\n                    <div className=\"mt-3\">\r\n                      <a\r\n                        className=\"text-indigo-600 hover:underline\"\r\n                        href={`/productDetail/${a.id}`}\r\n                      >\r\n                        Open\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {/* MY BIDS */}\r\n      {tab === \"My Bids\" && (\r\n        <section className=\"mt-6\">\r\n          {!bids ? (\r\n            <p>Loading…</p>\r\n          ) : bids.length === 0 ? (\r\n            <p className=\"text-gray-600\">You haven’t placed any bids yet.</p>\r\n          ) : (\r\n            <div className=\"overflow-x-auto bg-white border rounded\">\r\n              <table className=\"min-w-full text-sm\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"text-left p-2\">Auction</th>\r\n                    <th className=\"text-left p-2\">Bid</th>\r\n                    <th className=\"text-left p-2\">At</th>\r\n                    <th className=\"p-2\"></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {bids.map((b) => (\r\n                    <tr key={b.id} className=\"border-t\">\r\n                      <td className=\"p-2\">{b.auctionTitle}</td>\r\n                      <td className=\"p-2\">LKR {b.amount.toLocaleString()}</td>\r\n                      <td className=\"p-2\">{new Date(b.at).toLocaleString()}</td>\r\n                      <td className=\"p-2\">\r\n                        <a\r\n                          className=\"text-indigo-600 hover:underline\"\r\n                          href={`/productDetail/${b.auctionId}`}\r\n                        >\r\n                          Open\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {/* NOTIFICATIONS */}\r\n      {tab === \"Notifications\" && (\r\n        <section className=\"mt-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-xl font-semibold\">Your notifications</h2>\r\n            <button\r\n              onClick={markAllRead}\r\n              className=\"text-sm px-3 py-1.5 border rounded\"\r\n            >\r\n              Mark all read\r\n            </button>\r\n          </div>\r\n\r\n          {!notes ? (\r\n            <p className=\"mt-4\">Loading…</p>\r\n          ) : notes.length === 0 ? (\r\n            <p className=\"mt-4 text-gray-600\">No notifications yet.</p>\r\n          ) : (\r\n            <ul className=\"mt-4 divide-y border rounded bg-white\">\r\n              {notes.map((n) => (\r\n                <li key={n.id} className=\"p-3\">\r\n                  <div className=\"text-sm\">\r\n                    <span\r\n                      className={`inline-block px-2 py-0.5 rounded mr-2 ${badgeClass(n.type)}`}\r\n                    >\r\n                      {n.type}\r\n                    </span>\r\n                    {n.message}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 mt-1\">\r\n                    {new Date(n.createdAt).toLocaleString()}\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction badgeClass(type: string) {\r\n  switch (type) {\r\n    case \"bid_placed\":\r\n      return \"bg-blue-50 text-blue-700\";\r\n    case \"outbid\":\r\n      return \"bg-amber-50 text-amber-700\";\r\n    case \"winner_purchased\":\r\n      return \"bg-emerald-50 text-emerald-700\";\r\n    default:\r\n      return \"bg-gray-100 text-gray-700\";\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}